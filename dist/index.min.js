"use strict";function n(n){return n&&"object"==typeof n&&"default"in n?n.default:n}Object.defineProperty(exports,"__esModule",{value:!0});var t=require("tslib"),r=require("react"),e=n(r),u=require("rxjs"),i={data:{},get:function(n){return this.data[n]},register:function(n,t){this.data[n]=t}},o={data:{},get:function(n){return this.data[n]},set:function(n,t){if(void 0!==this.data[n])throw new Error(n+" is already exists.");this.data[n]=t}},c=function(n){if(void 0!==i.get(n))throw new Error(n+" 已被注册！");var u=r.createContext({});return i.register(n,u),function(n){return function(r){function i(){var n=null!==r&&r.apply(this,arguments)||this;return n.state={context:{}},n}return t.__extends(i,r),i.prototype.componentDidMount=function(){var t=this;o.get(n.name).subscribe(function(n){t.setState({context:n})})},i.prototype.render=function(){return e.createElement(u.Provider,{value:this.state.context},e.createElement(n,t.__assign({},this.props)))},i}(r.Component)}},f=function(n,t,r){var e=n.constructor.name,i=r.initializer();if(!o.get(e)){var c=new u.BehaviorSubject({});o.set(e,c)}var f=o.get(e);function s(n){f.subscribe(function(r){var e;r[t]!==n&&f.next(Object.assign({},r,((e={})[t]=n,e)))}).unsubscribe()}s(i);return{get:function(){return i},set:function(n){s(n),i=n},enumerable:!1,configurable:!0}},s=function(n,t){var r=n.constructor.name;if(!o.get(r)){var e=new u.BehaviorSubject({});o.set(r,e)}var i=o.get(r),c=new u.Subject;i.subscribe(function(n){var r;void 0===n[t]&&i.next(Object.assign({},n,((r={})[t]=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];c.next.apply(c,n)},r)))}).unsubscribe();return{get:function(){return c},set:function(){console.log("can note set listen: "+t+", it's readonly.")},enumerable:!1,configurable:!0}},a=function(n,u){return function(o){return function(r){function c(){var n=null!==r&&r.apply(this,arguments)||this;return n.renderContext=function(n){var r={};return u?u.forEach(function(t){r[t]=n[t]}):r=n,e.createElement(o,t.__assign({},r))},n}return t.__extends(c,r),c.prototype.render=function(){var t=i.get(n);return t?e.createElement(t.Consumer,null,this.renderContext):null},c}(r.Component)}};exports.Provider=c,exports.Context=f,exports.Listener=s,exports.Consumer=a;
//# sourceMappingURL=index.min.js.map
